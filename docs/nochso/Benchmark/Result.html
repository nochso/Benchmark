<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="robots" content="index, follow, all" /><title>nochso\Benchmark\Result | noch.so Benchmark documentation</title><link rel="stylesheet" type="text/css" href="../../css/normalize.css"><link rel="stylesheet" type="text/css" href="../../css/min.css"><link rel="stylesheet" type="text/css" href="../../css/prism.css"><link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700,400italic' rel='stylesheet' type='text/css'><script src="../../js/prism.js"></script><meta name="MobileOptimized" content="width"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"></head><body id="class" data-name="class:nochso_Benchmark_Result" data-root-path="../../"><nav><div class="container"><div class="title"><a href="../../index.html">noch.so Benchmark documentation</a></div><ul><li><a href="../../classes.html">Classes</a></li><li><a href="../../namespaces.html">Namespaces</a></li><li><a href="../../interfaces.html">Interfaces</a></li><li><a href="../../traits.html">Traits</a></li><li><a href="../../doc-index.html">Index</a></li><li><a href="../../search.html">Search</a></li></ul><ol class="breadcrumb"><li><a href="../../nochso.html">nochso</a></li><li><a href="../../nochso/Benchmark.html">Benchmark</a></li><li>Result</li></ol></div></nav><div class="container"><div class="row"><div id="control-panel"></div><div id="api-tree"></div></div><div class="row"><h1>Result</h1><p> class <strong>Result</strong></p><p>Result contains the test results for a specific method and parameter.</p><h2>Methods</h2><table class="table"><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php"></code></td><td><code class="language-php"><a href="#method___construct">__construct</a>(float $duration, int $operations, <abbr title="nochso\Benchmark\nochso\Benchmark\Method">Method</abbr> $method, <abbr title="nochso\Benchmark\nochso\Benchmark\Parameter">Parameter</abbr> $parameter = null)</code></td><td> No description </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php">float</code></td><td><code class="language-php"><a href="#method_getDuration">getDuration</a>()</code></td><td> Duration in milliseconds. </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php">int</code></td><td><code class="language-php"><a href="#method_getOperations">getOperations</a>()</code></td><td> Get the number of iterations. </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php">float</code></td><td><code class="language-php"><a href="#method_getOperationsPerSecond">getOperationsPerSecond</a>(bool $withUnit = false)</code></td><td> Get the operations per second as a float. </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php"><a href="../../nochso/Benchmark/Method.html"><abbr title="nochso\Benchmark\Method">Method</abbr></a></code></td><td><code class="language-php"><a href="#method_getMethod">getMethod</a>()</code></td><td> Get the method used to create this result. </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php"><a href="../../nochso/Benchmark/Parameter.html"><abbr title="nochso\Benchmark\Parameter">Parameter</abbr></a></code></td><td><code class="language-php"><a href="#method_getParameter">getParameter</a>()</code></td><td> Get the parameter that was used to call the method. </td><td></td></tr><tr><td><code class="language-php"> public </code></td><td class="text-right"><code class="language-php"></code></td><td><code class="language-php"><a href="#method___toString">__toString</a>()</code></td><td> No description </td><td></td></tr></table><h2>Details</h2><div id="method-details"><div><div class="float-right"> at line <a href="#source.44">44</a></div><div><h3 id="method___construct"><code class="language-php">__construct()</code></h3><code class="language-php">public __construct(float $duration, int $operations, <abbr title="nochso\Benchmark\nochso\Benchmark\Method">Method</abbr> $method, <abbr title="nochso\Benchmark\nochso\Benchmark\Parameter">Parameter</abbr> $parameter = null)</code></div></div><div class="details"><h4>Parameters</h4><table class="table"><tr><td><code class="language-php">float</code></td><td><code class="language-php">$duration</code></td><td></td></tr><tr><td><code class="language-php">int</code></td><td><code class="language-php">$operations</code></td><td></td></tr><tr><td><code class="language-php"><abbr title="nochso\Benchmark\nochso\Benchmark\Method">Method</abbr></code></td><td><code class="language-php">$method</code></td><td></td></tr><tr><td><code class="language-php"><abbr title="nochso\Benchmark\nochso\Benchmark\Parameter">Parameter</abbr></code></td><td><code class="language-php">$parameter</code></td><td></td></tr></table></div><div><div class="float-right"> at line <a href="#source.57">57</a></div><div><h3 id="method_getDuration"><code class="language-php">getDuration()</code></h3><code class="language-php">public float&nbsp;getDuration()</code></div></div><div class="details"><div><p>Duration in milliseconds.</p></div><h4>Return Value</h4><table class="table"><tr><td><code class="language-php">float</code></td><td>Milliseconds</td></tr></table></div><div><div class="float-right"> at line <a href="#source.67">67</a></div><div><h3 id="method_getOperations"><code class="language-php">getOperations()</code></h3><code class="language-php">public int&nbsp;getOperations()</code></div></div><div class="details"><div><p>Get the number of iterations.</p></div><h4>Return Value</h4><table class="table"><tr><td><code class="language-php">int</code></td><td></td></tr></table></div><div><div class="float-right"> at line <a href="#source.79">79</a></div><div><h3 id="method_getOperationsPerSecond"><code class="language-php">getOperationsPerSecond()</code></h3><code class="language-php">public float&nbsp;getOperationsPerSecond(bool $withUnit = false)</code></div></div><div class="details"><div><p>Get the operations per second as a float.</p></div><h4>Parameters</h4><table class="table"><tr><td><code class="language-php">bool</code></td><td><code class="language-php">$withUnit</code></td><td>Optionally format with abbreviated unit. Default is false.</td></tr></table><h4>Return Value</h4><table class="table"><tr><td><code class="language-php">float</code></td><td></td></tr></table></div><div><div class="float-right"> at line <a href="#source.93">93</a></div><div><h3 id="method_getMethod"><code class="language-php">getMethod()</code></h3><code class="language-php">public <a href="../../nochso/Benchmark/Method.html"><abbr title="nochso\Benchmark\Method">Method</abbr></a>&nbsp;getMethod()</code></div></div><div class="details"><div><p>Get the method used to create this result.</p></div><h4>Return Value</h4><table class="table"><tr><td><code class="language-php"><a href="../../nochso/Benchmark/Method.html"><abbr title="nochso\Benchmark\Method">Method</abbr></a></code></td><td></td></tr></table></div><div><div class="float-right"> at line <a href="#source.103">103</a></div><div><h3 id="method_getParameter"><code class="language-php">getParameter()</code></h3><code class="language-php">public <a href="../../nochso/Benchmark/Parameter.html"><abbr title="nochso\Benchmark\Parameter">Parameter</abbr></a>&nbsp;getParameter()</code></div></div><div class="details"><div><p>Get the parameter that was used to call the method.</p></div><h4>Return Value</h4><table class="table"><tr><td><code class="language-php"><a href="../../nochso/Benchmark/Parameter.html"><abbr title="nochso\Benchmark\Parameter">Parameter</abbr></a></code></td><td></td></tr></table></div><div><div class="float-right"> at line <a href="#source.108">108</a></div><div><h3 id="method___toString"><code class="language-php">__toString()</code></h3><code class="language-php">public __toString()</code></div></div><div class="details"></div></div><h2>Source code</h2><pre class="language-php line-numbers" id="source"><code>&lt;?php

/*
 * This file is part of nochso/benchmark.
 *
 * @copyright Copyright (c) 2015 Marcel Voigt &lt;mv@noch.so&gt;
 * @license   https://github.com/nochso/benchmark/blob/master/LICENSE ISC
 * @link      https://github.com/nochso/benchmark
 */

namespace nochso\Benchmark;

/**
 * Result contains the test results for a specific method and parameter.
 *
 * @author Marcel Voigt &lt;mv@noch.so&gt;
 * @copyright Copyright (c) 2015 Marcel Voigt &lt;mv@noch.so&gt;
 */
class Result
{
    /**
     * @var float Milliseconds
     */
    private $duration;
    /**
     * @var int
     */
    private $operations;
    /**
     * @var Method
     */
    private $method;
    /**
     * @var Parameter
     */
    private $parameter;

    /**
     * @param float     $duration
     * @param int       $operations
     * @param Method    $method
     * @param Parameter $parameter
     */
    public function __construct($duration, $operations, Method $method, Parameter $parameter = null)
    {
        $this-&gt;duration = $duration;
        $this-&gt;operations = $operations;
        $this-&gt;method = $method;
        $this-&gt;parameter = $parameter;
    }

    /**
     * Duration in milliseconds.
     *
     * @return float Milliseconds
     */
    public function getDuration()
    {
        return $this-&gt;duration;
    }

    /**
     * Get the number of iterations.
     *
     * @return int
     */
    public function getOperations()
    {
        return $this-&gt;operations;
    }

    /**
     * Get the operations per second as a float.
     *
     * @param bool $withUnit Optionally format with abbreviated unit. Default is false.
     *
     * @return float
     */
    public function getOperationsPerSecond($withUnit = false)
    {
        $opsPerSec = ($this-&gt;operations / $this-&gt;duration) * 1000.0;
        if ($withUnit) {
            return $this-&gt;formatNumber($opsPerSec);
        }
        return $opsPerSec;
    }

    /**
     * Get the method used to create this result.
     *
     * @return Method
     */
    public function getMethod()
    {
        return $this-&gt;method;
    }

    /**
     * Get the parameter that was used to call the method.
     *
     * @return Parameter
     */
    public function getParameter()
    {
        return $this-&gt;parameter;
    }

    public function __toString()
    {
        $ops = $this-&gt;formatNumber($this-&gt;getOperationsPerSecond());
        return $ops . &#039; op/sec&#039;;
    }

    /**
     * Turns 2000 into 2K, 2,000,000 into 2M, etc.
     *
     * This uses base10. Don&#039;t use it for bytes.
     *
     * @param int|float $value
     * @param int       $decimals
     *
     * @return string
     *
     * @link http://stackoverflow.com/a/2510540
     */
    private function formatNumber($value, $decimals = 1)
    {
        $base = log($value, 1000);
        $newValue = pow(1000, $base - floor($base));

        $suffixes = array(&#039;&#039;, &#039;K&#039;, &#039;M&#039;, &#039;G&#039;, &#039;T&#039;);
        $suffix = $suffixes[intval($base)];

        return number_format($newValue, $decimals) . $suffix;
    }
}
</code></pre></div><div class="row"><div id="footer"> Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a> using <a href="https://github.com/nochso/sami-theme">nochso/sami-theme</a>. </div></div></div></body></html>